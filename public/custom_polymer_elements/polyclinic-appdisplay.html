<dom-module id="polyclinicapp-display">
    <style>
        .header {
            color: black;
            font-size: 16px;
            font-weight: bold;
        }
    </style>
    
    <template>
        <paper-material>
            <div class="header" elevation="1">
                <div class="time">
                    Total Patients: <span>{{totalWaitTime}}</span>
            </div>   
            <div class="polyclinics"></div>
        </paper-material>

    </template>
    
    <script>
        Polymer({
            is: "polyclinicapp-display",
            ready: function() {
                this.allPolyclinics = shownCustomLayers['Polyclinics'];
                var layerId;
                for(layerId in this.allPolyclinics){
                    totalWaitNum += this.allPolyclinics[layerId].feature.properties.waitingNumber;   
                
                    var elem = "<polyclinic-display polyclinic='" + this.allPolyclinics[layerId].feature + "'></polyclinic-display>";
                    document.getElementsByClassName('polyclinics').append(elem);
                }
            },
            properties:{
                allPolyclinics: {
                    type: Object
                },
                totalWaitNum: {
                    type: Number,
                    value: 0
                }
            }
        })
    </script>
    
</dom-module>